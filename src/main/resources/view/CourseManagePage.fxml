<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<AnchorPane fx:id="ancCoursePage" xmlns="http://javafx.com/javafx/8" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="lk.ijse.controller.CourseManagePageController" prefWidth="1000" prefHeight="700">

    <children>
        <VBox spacing="15" padding="20">
            <!-- Title -->
            <Label text="Manage Courses" style="-fx-font-size:20px; -fx-font-weight:bold;" />

            <!-- Form Fields -->
            <GridPane hgap="15" vgap="10">
                <columnConstraints>
                    <ColumnConstraints percentWidth="25"/>
                    <ColumnConstraints percentWidth="75"/>
                </columnConstraints>

                <Label text="Course ID:" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                <Label fx:id="lblCourseId" text="C001" GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                <Label text="Course Name:" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                <ComboBox fx:id="cmbCourseName" prefWidth="200" GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                <Label text="Duration:" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                <TextField fx:id="txtDuration" promptText="e.g. 3 Months" GridPane.rowIndex="2" GridPane.columnIndex="1"/>

                <Label text="Fee:" GridPane.rowIndex="3" GridPane.columnIndex="0"/>
                <TextField fx:id="txtFee" promptText="e.g. 15000" GridPane.rowIndex="3" GridPane.columnIndex="1"/>

                <Label text="Description:" GridPane.rowIndex="4" GridPane.columnIndex="0"/>
                <TextField fx:id="txtDescription" promptText="Description" GridPane.rowIndex="4" GridPane.columnIndex="1"/>

                <Label text="Instructor ID:" GridPane.rowIndex="5" GridPane.columnIndex="0"/>
                <TextField fx:id="txtInstructorId" promptText="Enter Instructor ID" GridPane.rowIndex="5" GridPane.columnIndex="1"/>
            </GridPane>

            <!-- Buttons -->
            <HBox spacing="10">
                <Button fx:id="btnSave" text="Save" onAction="#btnSaveOnAction"/>
                <Button fx:id="btnUpdate" text="Update" onAction="#btnUpdateOnAction"/>
                <Button fx:id="btnDelete" text="Delete" onAction="#btnDeleteOnAction"/>
                <Button fx:id="btnReset" text="Reset" onAction="#btnResetOnAction"/>
            </HBox>

            <!-- Enrollment Section -->
            <TitledPane text="Enroll Student" expanded="true">
                <VBox spacing="10" padding="10">
                    <HBox spacing="15">
                        <Label text="Student ID:"/>
                        <ComboBox fx:id="cmbStudentIds" prefWidth="150"/>
                        <Label text="Course ID:"/>
                        <ComboBox fx:id="cmbCourseIds" prefWidth="150"/>
                        <Button text="Enroll" onAction="#btnEnrollStudentOnAction"/>
                    </HBox>
                </VBox>
            </TitledPane>

            <!-- Search -->
            <HBox spacing="10">
                <Label text="Search:"/>
                <TextField fx:id="txtSearch" onKeyReleased="#search" promptText="Search by name or ID"/>
            </HBox>

            <!-- Table -->
            <TableView fx:id="tblCourses" prefHeight="400" onMouseClicked="#OnClickedTable">
                <columns>
                    <TableColumn fx:id="colCourseId" text="Course ID" prefWidth="100"/>
                    <TableColumn fx:id="colCourseName" text="Course Name" prefWidth="150"/>
                    <TableColumn fx:id="colDuration" text="Duration" prefWidth="100"/>
                    <TableColumn fx:id="colFee" text="Fee" prefWidth="100"/>
                    <TableColumn fx:id="colDescription" text="Description" prefWidth="200"/>
                    <TableColumn fx:id="colInstructorId" text="Instructor ID" prefWidth="120"/>
                    <TableColumn fx:id="colEnrollmentCount" text="Enrollments" prefWidth="100"/>
                </columns>
            </TableView>

            <!-- Back to Dashboard -->
            <Button text="Back to Dashboard" onMouseClicked="#goToDashboard"/>
        </VBox>
    </children>
</AnchorPane>
